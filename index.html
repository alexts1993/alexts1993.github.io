

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>JavaScript Speech Recognition</title>
    </head>
    <body>
		<span>Welcome to my gblog!</span>
        <div class="words" contenteditable>

        </div>
        <!--script type="text/javascript">
            window.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
			function Init(lang = "yue-Hant-HK"){
				if(typeof recognition !== 'undefined'){
					recognition.stop();
					delete recognition;
				}
				recognition = new SpeechRecognition();
				recognition.lang = lang;
				recognition.interimResults = true;
				let p = document.createElement('p');
				const words = document.querySelector('.words');

				words.appendChild(p);
				recognition.addEventListener('result',e => {
					const transcript = Array.from(e.results)
						.map(result => result[0])
						.map(result => result.transcript)
						.join('');
					p.textContent = transcript;
					if(e.results[0].isFinal){
						p = document.createElement('p');
						words.appendChild(p);
					}
				});
				recognition.addEventListener('end', recognition.start);
				recognition.start();
			}
			Init();
			var lbtns = document.querySelector('.langs').children;
			Array.from(lbtns).forEach(link => {
				link.addEventListener('click', function(event) {
					var ln = this.getAttribute("data-lang");
					if(ln  == 'stop'){
						if(typeof recognition !== 'undefined'){
							recognition.stop();
							delete recognition;
						}
					}else{
						Init(ln);
					}
				});
			});
			
        </script-->
    </body>
</html>
